!function(l){"use strict";var o=function(e,t){this.$element=l(e),this.$head=l("html head"),this.$body=l("html body"),this.$doc=l(document),this.$selectBox={},this.options=l.extend({},o.Defaults,t),this.init()};o.Defaults={selectedFn:function(e){},unselectFn:function(e){}},o.prototype.init=function(){var i=this,o=(i.options,0),s=0,c=!1;t(i);var e=l('<div class="select-box"></div>');i.$body.append(e),i.$selectBox=e,i.$element.on({"mousedown.JBoxSelect":function(e){c=!0,o=e.pageX,s=e.pageY,i.$selectBox.css({left:o,top:s}),f(e)},"mousemove.JBoxSelect":function(e){if(c&&1===e.which){var t=e.pageX,n=e.pageY;a(i,o,t,s,n),u(i),f(e)}},"mouseup.JBoxSelect":function(e){n(i),c=!1}}),i.$doc.off("mouseup.JBoxSelect").on({"mouseup.JBoxSelect":function(e){n(i),c=!1}})};function s(e){var t={},n=e.offset().left,i=e.offset().top,o=n+e.outerWidth(),s=i+e.outerHeight();return t.x1=n,t.y1=i,t.x2=o,t.y2=s,t}var t=function(e){var t=".select-box {position: absolute;display: none;width: 0px;height: 0px;padding: 0px;margin: 0px;border: 1px dashed #0099ff;background-color: #c3d5ed;opacity: 0.5;filter: alpha(opacity=50);font-size: 0px;z-index: 99999;pointer-events: none;}";t="<style>"+t+"</style>",e.$head.append(t)},a=function(e,t,n,i,o){e.$selectBox.show();var s=Math.min(n,t),c=Math.min(o,i),l=Math.abs(n-t),a=Math.abs(o-i);e.$selectBox.css({left:s,top:c,width:l,height:a})},u=function(e){var n=e.options,i=s(e.$selectBox);e.$element.find(".select-item").each(function(){var e=l(this),t=s(e);!function(e,t){var n,i;return n=e.x1>t.x2||t.x1>e.x2,i=e.y1>t.y2||t.y1>e.y2,!(n||i)}(i,t)?e.is(".select-item.unselecting-item")?(e.addClass("selected-item").removeClass("unselecting-item"),"function"==typeof n.selectedFn&&n.selectedFn(e[0])):e.removeClass("selecting-item"):e.is(".select-item.selected-item")?(e.removeClass("selected-item selecting-item").addClass("unselecting-item"),"function"==typeof n.unselectFn&&n.unselectFn(e[0])):e.is(".select-item.unselecting-item")||(e.addClass("selecting-item"),"function"==typeof n.selectedFn&&n.selectedFn(e[0]))})},n=function(e){e.options;e.$element.find(".select-item.selecting-item").removeClass("selecting-item").addClass("selected-item"),e.$element.find(".select-item.unselecting-item").removeClass("selecting-item selected-item unselecting-item"),e.$selectBox.hide()},f=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1};var e=l.fn.JBoxSelect;l.fn.JBoxSelect=function(i){return this.each(function(){var e=l(this),t="object"==typeof i&&i,n=e.data("JBoxSelect");n||(n=new o(this,t),e.data("JBoxSelect",n))})},l.fn.JBoxSelect.Constructor=o,l.fn.JBoxSelect.noConflict=function(){return l.fn.JBoxSelect=e,this}}(jQuery);